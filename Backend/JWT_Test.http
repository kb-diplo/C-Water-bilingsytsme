### Water Billing System - JWT Testing

@baseUrl = https://localhost:44372
@contentType = application/json

### 1. Login to get JWT token
POST {{baseUrl}}/api/auth/login
Content-Type: {{contentType}}

{
  "username": "YOUR_USERNAME_HERE",
  "password": "YOUR_PASSWORD_HERE"
}

### 2. Test protected endpoint with JWT token
# Replace YOUR_JWT_TOKEN_HERE with the token from login response
GET {{baseUrl}}/api/dashboard
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: {{contentType}}

### 3. Test user management (Admin only)
GET {{baseUrl}}/api/auth/users
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: {{contentType}}

### 4. Test client endpoints
GET {{baseUrl}}/api/clients
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: {{contentType}}

### 5. Test bills endpoint
GET {{baseUrl}}/api/bills
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: {{contentType}}

### 6. Test payments endpoint
GET {{baseUrl}}/api/payments
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: {{contentType}}

### 7. Test readings endpoint
GET {{baseUrl}}/api/readings
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: {{contentType}}

### JWT Token Configuration:
# Token expiry: 30 minutes
# Roles: Admin, MeterReader, Client
# Authentication: Bearer token in Authorization header

### How to use:
# 1. Update the login credentials with your actual username/password
# 2. Run the login request first
# 3. Copy the "token" from the response
# 4. Replace "YOUR_JWT_TOKEN_HERE" with your actual token in subsequent requests
# 5. Run the other requests to test authentication

### Security Notes:
# - Never commit real credentials to version control
# - Use environment variables for sensitive configuration
# - Rotate JWT secrets regularly in production
